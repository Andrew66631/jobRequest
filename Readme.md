# Yii2 –¢–µ—Å—Ç–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ

üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
–•–æ—Å—Ç: localhost

–ü–æ—Ä—Ç: 5432

–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: loans

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: user

–ü–∞—Ä–æ–ª—å: password

JWT –ù–∞—Å—Ç—Ä–æ–π–∫–∏
–°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

–í—Ä–µ–º—è –∂–∏–∑–Ω–∏ —Ç–æ–∫–µ–Ω–∞: 1 —á–∞—Å

## üöÄ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- **–§—Ä–µ–π–º–≤–æ—Ä–∫**: Yii2
- **–í–µ–±-—Å–µ—Ä–≤–µ—Ä**: Nginx
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: PostgreSQL
- **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è**: Docker Compose
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**: JWT (JSON Web Tokens)
- **–Ø–∑—ã–∫**: PHP 8.2

## üìã –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Docker
- Docker Compose
- Git

## üõ† –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
git clone  - —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

cd jobRequest

docker-compose up -d

docker-compose exec php composer install

docker-compose exec php ./yii migrate
````
# 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã
–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: http://localhost

üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
–¢–∞–±–ª–∏—Ü—ã:
user - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–∏—Å—Ç–µ–º—ã

request - –ó–∞—è–≤–∫–∏ –Ω–∞ –∑–∞–π–º—ã

solution - –†–µ—à–µ–Ω–∏—è –ø–æ –∑–∞—è–≤–∫–∞–º (approved/declined)

üîê API Endpoints

# 1.–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
# URL: POST  http://localhost/api/auth/register

# –¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:

```bash
{
  "username": "testuser",
  "password": "password123",
  "email": "test@example.com"
} 
```

# 2.–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
# URL: POST  http://localhost/api/auth/login

# –¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:

```bash
{
  "username": "testuser",
  "password": "password123"
}
```
# 3.–ü–æ–¥–∞—á–∞ –∑–∞—è–≤–∫–∏ –Ω–∞ –∑–∞–π–º
# URL: POST  http://localhost/api/loan/create

## –ó–∞–≥–æ–ª–æ–≤–∫–∏: Authorization: Bearer <—Ç–æ–∫–µ–Ω –≤–∑—è—Ç—å –∏–∑ action login>
# –¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:
```bash
{
  "user_id": 1,
  "amount": 3000,
  "term": 30
}
```
# 4.–û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞—è–≤–æ–∫ –Ω–∞ –∑–∞–π–º

## –ó–∞–≥–æ–ª–æ–≤–∫–∏: Authorization: Bearer <—Ç–æ–∫–µ–Ω –≤–∑—è—Ç—å –∏–∑ action login>

## –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –≤–æ—Ä–∫–µ—Ä

```bash
docker-compose exec php php yii queue/listen
```

## –ü–æ—Å–ª–µ —á–µ–≥–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∑–∞–ø—Ä–æ—Å
# URL: GET http://localhost/api/loan/processor?delay=5


